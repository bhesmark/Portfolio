{"ast":null,"code":"import _slicedToArray from \"/Users/baic/Documents/programm/gsrlic/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/baic/Documents/programm/gsrlic/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"compute\", \"name\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { BufferAttribute } from 'three';\n\n/**\n * Used exclusively as a child of a BufferGeometry.\n * Computes the BufferAttribute by calling the `compute` function\n * and attaches the attribute to the geometry.\n */\nvar ComputedAttribute = function ComputedAttribute(_ref2) {\n  var compute = _ref2.compute,\n    name = _ref2.name,\n    props = _objectWithoutProperties(_ref2, _excluded);\n  var _React$useState = React.useState(function () {\n      return new BufferAttribute(new Float32Array(0), 1);\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    bufferAttribute = _React$useState2[0];\n  var primitive = React.useRef(null);\n  React.useLayoutEffect(function () {\n    if (primitive.current) {\n      var _ref;\n\n      // @ts-expect-error brittle\n      var parent = (_ref = primitive.current.parent) !== null && _ref !== void 0 ? _ref : primitive.current.__r3f.parent;\n      var attr = compute(parent);\n      primitive.current.copy(attr);\n    }\n  }, [compute]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: primitive,\n    object: bufferAttribute,\n    attach: \"attributes-\".concat(name)\n  }, props));\n};\nexport { ComputedAttribute };","map":null,"metadata":{},"sourceType":"module"}